<%= content_tag_for(:tr, download, :class => cycle('odd', 'even')) do %>
  <td><%= link_to download.title, download_path(download) %></td>
  <% if download.exist? -%>
    <td><strong><%= link_to(number_to_human_size(download.size), click_download_path(download), :class => 'highlight downlink', :method => :put, :title => 'Download now') %></strong></td>
    <td><%= download.file_type %></td>
    <td><%= download.mtime.to_s(:custom) %></td>
  <% else -%>
    <td colspan="3"><em>File missing</em></td>
  <% end -%>
  <% if defined?(show_admin) && show_admin -%>
    <td class="icon"><%= link_to( ( download.is_visible ? image_tag( 'buttons/admin/on.gif', :alt => 'On' ) : image_tag( 'buttons/admin/off.gif', :alt => 'Off' ) ), toggle_admin_download_path(download), :remote => true, :method => :put, :class => 'admin' ) %></td>
    <td class="icon"><%= link_to(image_tag('buttons/admin/edit.gif', :alt => 'Edit'), edit_admin_download_path(download), :class => 'admin') %></td>
    <td class="icon"><%= link_to(image_tag('buttons/admin/trash.gif', :alt => 'Delete'), admin_download_path(download), :method => :delete, :confirm => 'Are you sure you wish to delete this record?', :class => 'admin') %></td>
  <% end -%>
<% end -%>
