<%= content_tag_for(:tr, download, :class => cycle('odd', 'even')) do %>
  <td><%= link_to download.title, edit_admin_download_path(download), :class => 'highlight' %></td>
  <% if download.exist? -%>
    <td><%= link_to(number_to_human_size(download.size), click_download_path(download), :class => '', :method => :put, :title => 'Download now') if download.exist? %></td>
    <td><%= download.file_type if download.exist? %></td>
    <td><%= download.mtime.to_s(:custom) if download.exist? %></td>
  <% else -%>
    <td colspan="3"><em>File missing</em></td>
  <% end -%>
  
  <td class="icon"><%= link_to((download.is_visible ? image_tag('buttons/admin/on.gif', :alt => 'On') : image_tag('buttons/admin/off.gif', :alt => 'Off')), toggle_admin_download_path(download, :admin => 1), :remote => true, :method => :put, :class => 'admin') %></td>
  <td class="icon"><%= link_to(image_tag('buttons/admin/trash.gif', :alt => 'Delete'), admin_download_path(download), :method => :delete, :confirm => 'Are you sure you wish to delete this record?', :class => 'admin') %></td>
<% end -%>
